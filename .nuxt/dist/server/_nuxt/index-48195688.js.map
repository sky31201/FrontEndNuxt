{"version":3,"file":"index-48195688.js","sources":["../../../../stores/api/kgiTestLoginStore.ts","../../../../stores/api/kgiAuthVerifyStore.ts","../../../../components/overseas/Mocklogin.vue","../../../../components/marginDeposit/Mocklogin.vue","../../../../pages/index.vue"],"sourcesContent":["import { UseFetchOptions } from 'nuxt/app'\nimport { useLoadingStore } from '@/stores/loadingStore'\nimport { Request, Response } from '@/models/Api/KGITestLogin/index';\n\n/**\n * 取回複委託客戶資料\n */\nexport const useKgiTestLoginStore = defineStore('kgiTestLoginStore', () => {\n\n  /**\n   * Api傳入資料\n   */\n  const postData = ref<Request>({\n    IDs: 'F123326781',\n    Orign: 'A',\n    ApplyType: 'OB',\n    WithOSB: 'Y',\n    PWD: '0000'\n  })\n\n  /**\n   * Api返回結果\n   */\n  const responseData = ref<Response>()\n\n  /**\n   * 設置傳入參數選項\n   */\n  const options: UseFetchOptions<Response> = {\n    onRequest({ options }) {\n      // 設置讀取中組件顯示\n      useLoadingStore().setLoadingShow(true)\n      // TODO: 記得要打開\n      // 測試註解 Start\n      options.body = postData.value\n      // options.headers = {\n      //   Authorization: `Bearer 2223332`\n      // }\n      // 測試註解 End\n    },\n    onResponse({ response }) {\n      // 設置讀取中組件隱藏\n      useLoadingStore().setLoadingShow(false)\n      const result: Response = response._data\n      if (result.userIdAccountsDataList.length === 0) return\n      responseData.value = result\n    }\n  }\n\n  /**\n   * 取回測試資料\n   * @returns 測試資料\n   */\n  const fetchData = async () => await useBaseFetch<Response>(`/api/auth/TestLogin`, options);\n  // const fetchData = async () => await useFetch<Response>(`http://localhost:3000/api/TestLogin`, options);\n  return { fetchData, postData, responseData }\n}, {\n  persist: {\n    key: 'testLogin',\n    storage: persistedState.sessionStorage,\n  }\n})","import { UseFetchOptions } from 'nuxt/app'\nimport { useLoadingStore } from '@/stores/loadingStore'\nimport { ApiRequest, ApiResponse } from 'models/Api/Base/index';\nimport { Request, Response } from '@/models/Api/KGIAuthVerify/index';\n\n/**\n * 客戶資料驗證\n */\nexport const useKgiAuthVerifyStore = defineStore('kgiAuthVerifyStore', () => {\n\n  /**\n   * Api傳入資料\n   */\n  const postData = ref<Request>({\n    applytype: '',\n    orign: '',\n    orignolts: '',\n    orgclient: '',\n    orgserver: '',\n    trust_seq: '',\n    idno: '',\n    idaccounts: '',\n    stock: '',\n    adflag: '',\n    uitype: '',\n    dirpack: '',\n    syncert: '',\n    apver: '',\n    verno: '',\n  })\n\n  /**\n   * Api返回結果\n   */\n  const responseData = ref<Response>()\n\n  /**\n   * 設置傳入參數選項\n   */\n  const options: UseFetchOptions<Response> = {\n    onRequest({ options }) {\n      // 設置讀取中組件顯示\n      useLoadingStore().setLoadingShow(true)\n     // TODO: 記得要打開\n      // 測試註解 Start\n      options.body = postData.value\n      options.headers = {\n        Authorization: `Bearer 2223332`\n      }\n      // 測試註解 End\n    },\n    onResponse({ response }) {\n      // 設置讀取中組件隱藏\n      useLoadingStore().setLoadingShow(false)\n      const result: Response = response._data\n      if (result.userData.length === 0) return\n      responseData.value = result\n    }\n  }\n\n  /**\n   * 取回測試資料\n   * @returns 測試資料\n   */\n  const fetchData = async () => await useBaseFetch<Response>(`/api/auth/Verify`, options);\n  // const fetchData = async () => await useFetch<Response>(`http://localhost:3000/api/AuthVerify`, options);\n  return { fetchData, postData, responseData }\n}, {\n  persist: {\n    key: 'authVerify',\n    storage: persistedState.sessionStorage,\n  }\n})","<template>\n  <div class=\"bg-slate-300 rounded-2xl shadow-xl container mx-auto w-[400px]\">\n    <OverseasModal />\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4 text-base font-medium text-dark-blue mt-5\"\n    >\n      IDs\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"testLoginStoreRef.postData.value.IDs\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      Orign\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"testLoginStoreRef.postData.value.Orign\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      ApplyType\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"testLoginStoreRef.postData.value.ApplyType\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      WithOSB\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"testLoginStoreRef.postData.value.WithOSB\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      PWD\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"testLoginStoreRef.postData.value.PWD\"\n        />\n      </div>\n    </div>\n\n    <div class=\"flex justify-center gap-2 mt-5 pb-4 px-4\">\n      <button\n        class=\"flex-1 text-white font-medium border border-orange bg-orange px-5 py-2 rounded-xl\"\n        @click=\"doLogin\"\n      >\n        前往海外債(登入版)\n      </button>\n      <button\n        class=\"flex-1 text-white font-medium btn-info px-5 py-2 rounded-xl\"\n        @click=\"showModal\"\n      >\n        前往海外債(免登版開發中)\n      </button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useKgiTestLoginStore } from '@/stores/api/kgiTestLoginStore'\nimport { useKgiAuthVerifyStore } from '@/stores/api/kgiAuthVerifyStore'\nimport { useModalStore } from '@/stores/modalStore'\nconst testLoginStore = useKgiTestLoginStore()\nconst authVerifyStore = useKgiAuthVerifyStore()\nconst testLoginStoreRef = storeToRefs(useKgiTestLoginStore())\nconst authVerifyStoreRef = storeToRefs(useKgiAuthVerifyStore())\nconst { modalData } = storeToRefs(useModalStore())\n\n/**\n * 模擬登入\n */\nconst doLogin = () => {\n  testLoginStore.fetchData().then(async (res) => {\n    authVerifyStoreRef.postData.value.applytype = <string>(\n      testLoginStoreRef.responseData.value?.postData.applytype\n    )\n    authVerifyStoreRef.postData.value.orign = <string>(\n      testLoginStoreRef.responseData.value?.postData.orign\n    )\n    authVerifyStoreRef.postData.value.orgclient = <string>(\n      testLoginStoreRef.responseData.value?.postData.orgclient\n    )\n    authVerifyStoreRef.postData.value.orgserver = <string>(\n      testLoginStoreRef.responseData.value?.postData.orgserver\n    )\n    authVerifyStoreRef.postData.value.trust_seq = <string>(\n      testLoginStoreRef.responseData.value?.postData.trust_seq\n    )\n    authVerifyStoreRef.postData.value.idaccounts = <string>(\n      testLoginStoreRef.responseData.value?.postData.idaccounts\n    )\n    authVerifyStore.fetchData().then(async (s) => {\n      // 有資料\n      if (s.data.value?.token) {\n        await navigateTo('/overseas', {\n          replace: true\n        })\n      }\n    })\n  })\n}\n\n// 設置Modal\nconst showModal = () => {\n  modalData.value.title = '提醒'\n  modalData.value.content = '開發中'\n  modalData.value.showButton = false\n  useModalStore().setModalShow(true)\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"bg-slate-300 rounded-2xl shadow-xl container mx-auto w-[400px]\">\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4 text-base font-medium text-dark-blue mt-5\"\n    >\n      applytype\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.applytype\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      orign\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.orign\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      orignolts\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.orignolts\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      orgclient\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.orgclient\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      orgserver\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.orgserver\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      trust_seq\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.trust_seq\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      idno\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.idno\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      idaccounts\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.idaccounts\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      stock\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.stock\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      adflag\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.adflag\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      uitype\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.uitype\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      dirpack\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.dirpack\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      syncert\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.syncert\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      apver\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.apver\"\n        />\n      </div>\n    </div>\n\n    <div\n      class=\"p-2 bg-blue-grey rounded-sm mx-4text-base font-medium text-dark-blue mx-4 mt-5\"\n    >\n      verno\n      <div>\n        <input\n          type=\"text\"\n          class=\"bg-slate-700 text-slate-100 w-full rounded\"\n          v-model=\"authVerifyStoreRef.postData.value.verno\"\n        />\n      </div>\n    </div>\n    <div class=\"flex justify-center gap-2 mt-5 pb-4 px-4\">\n      <button\n        class=\"flex-1 text-white font-medium border border-orange bg-orange px-5 py-2 rounded-xl\"\n        @click=\"doLoginInfo\"\n      >\n        出金申請-出入金\n      </button>\n      <button\n        class=\"flex-1 text-white font-medium btn-info px-5 py-2 rounded-xl\"\n        @click=\"doLoginTrans\"\n      >\n        保證金互轉\n      </button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useKgiTestLoginStore } from '@/stores/api/kgiTestLoginStore'\nimport { useKgiAuthVerifyStore } from '@/stores/api/kgiAuthVerifyStore'\nconst testLoginStore = useKgiTestLoginStore()\nconst authVerifyStore = useKgiAuthVerifyStore()\nconst testLoginStoreRef = storeToRefs(useKgiTestLoginStore())\nconst authVerifyStoreRef = storeToRefs(useKgiAuthVerifyStore())\n\n/**\n * 模擬登入\n */\nconst doLoginInfo = () => {\n  testLoginStore.fetchData().then(async (res) => {\n    authVerifyStoreRef.postData.value.applytype = <string>(\n      testLoginStoreRef.responseData.value?.postData.applytype\n    )\n    authVerifyStoreRef.postData.value.orign = <string>(\n      testLoginStoreRef.responseData.value?.postData.orign\n    )\n    authVerifyStoreRef.postData.value.orgclient = <string>(\n      testLoginStoreRef.responseData.value?.postData.orgclient\n    )\n    authVerifyStoreRef.postData.value.orgserver = <string>(\n      testLoginStoreRef.responseData.value?.postData.orgserver\n    )\n    authVerifyStoreRef.postData.value.trust_seq = <string>(\n      testLoginStoreRef.responseData.value?.postData.trust_seq\n    )\n    authVerifyStoreRef.postData.value.idaccounts = <string>(\n      testLoginStoreRef.responseData.value?.postData.idaccounts\n    )\n    authVerifyStore.fetchData().then(async (s) => {\n    // 有資料\n    if (s.data.value?.token) {\n      await navigateTo({\n        path: '/margindeposit/info',\n        query: {\n          token: s.data.value?.token\n        }\n      })\n    }\n  })\n  })\n}\n\nconst doLoginTrans = () => {\n  testLoginStore.fetchData().then(async (res) => {\n    authVerifyStoreRef.postData.value.applytype = <string>(\n      testLoginStoreRef.responseData.value?.postData.applytype\n    )\n    authVerifyStoreRef.postData.value.orign = <string>(\n      testLoginStoreRef.responseData.value?.postData.orign\n    )\n    authVerifyStoreRef.postData.value.orgclient = <string>(\n      testLoginStoreRef.responseData.value?.postData.orgclient\n    )\n    authVerifyStoreRef.postData.value.orgserver = <string>(\n      testLoginStoreRef.responseData.value?.postData.orgserver\n    )\n    authVerifyStoreRef.postData.value.trust_seq = <string>(\n      testLoginStoreRef.responseData.value?.postData.trust_seq\n    )\n    authVerifyStoreRef.postData.value.idaccounts = <string>(\n      testLoginStoreRef.responseData.value?.postData.idaccounts\n    )\n    authVerifyStore.fetchData().then(async (s) => {\n    // 有資料\n    if (s.data.value?.token) {\n      await navigateTo({\n        path: '/margindeposit/trans',\n        query: {\n          token: s.data.value?.token\n        }\n      })\n    }\n  })\n  })\n}\n\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"bg-white\">\n    <div class=\"flex flex-col mx-auto container w-[400px]\">\n      <Loading v-show=\"isShow\" />\n      <NuxtLink to=\"/margindeposit/info\">測試未登入出金申請-出入金</NuxtLink>  \n      <NuxtLink to=\"/margindeposit/trans\">測試未登入保證金互轉</NuxtLink>\n      // TODO: 測試完刪除\n      {{ useRuntimeConfig().public.env }}\n      <OverseasMocklogin />\n      <MarginDepositMocklogin />\n      <!-- <OverseasMocklogin\n        v-show=\"useRuntimeConfig().public.env.toLocaleLowerCase() !== 'prod'\"\n      /> -->\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useLoadingStore } from '@/stores/loadingStore'\n\nconst { isShow } = storeToRefs(useLoadingStore())\n</script>\n\n<style scoped></style>\n"],"names":["options"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAOa,MAAA,uBAAuB,YAAY,qBAAqB,MAAM;AAKzE,QAAM,WAAW,IAAa;AAAA,IAC5B,KAAK;AAAA,IACL,OAAO;AAAA,IACP,WAAW;AAAA,IACX,SAAS;AAAA,IACT,KAAK;AAAA,EAAA,CACN;AAKD,QAAM,eAAe;AAKrB,QAAM,UAAqC;AAAA,IACzC,UAAU,EAAE,SAAAA,YAAW;AAEL,sBAAA,EAAE,eAAe,IAAI;AAGrCA,eAAQ,OAAO,SAAS;AAAA,IAK1B;AAAA,IACA,WAAW,EAAE,YAAY;AAEP,sBAAA,EAAE,eAAe,KAAK;AACtC,YAAM,SAAmB,SAAS;AAC9B,UAAA,OAAO,uBAAuB,WAAW;AAAG;AAChD,mBAAa,QAAQ;AAAA,IACvB;AAAA,EAAA;AAOF,QAAM,YAAY,YAAY,MAAM,aAAuB,uBAAuB,OAAO;AAElF,SAAA,EAAE,WAAW,UAAU;AAChC,GAAG;AAAA,EACD,SAAS;AAAA,IACP,KAAK;AAAA,IACL,SAAS,eAAe;AAAA,EAC1B;AACF,CAAC;ACrDY,MAAA,wBAAwB,YAAY,sBAAsB,MAAM;AAK3E,QAAM,WAAW,IAAa;AAAA,IAC5B,WAAW;AAAA,IACX,OAAO;AAAA,IACP,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,SAAS;AAAA,IACT,SAAS;AAAA,IACT,OAAO;AAAA,IACP,OAAO;AAAA,EAAA,CACR;AAKD,QAAM,eAAe;AAKrB,QAAM,UAAqC;AAAA,IACzC,UAAU,EAAE,SAAAA,YAAW;AAEL,sBAAA,EAAE,eAAe,IAAI;AAGrCA,eAAQ,OAAO,SAAS;AACxBA,eAAQ,UAAU;AAAA,QAChB,eAAe;AAAA,MAAA;AAAA,IAGnB;AAAA,IACA,WAAW,EAAE,YAAY;AAEP,sBAAA,EAAE,eAAe,KAAK;AACtC,YAAM,SAAmB,SAAS;AAC9B,UAAA,OAAO,SAAS,WAAW;AAAG;AAClC,mBAAa,QAAQ;AAAA,IACvB;AAAA,EAAA;AAOF,QAAM,YAAY,YAAY,MAAM,aAAuB,oBAAoB,OAAO;AAE/E,SAAA,EAAE,WAAW,UAAU;AAChC,GAAG;AAAA,EACD,SAAS;AAAA,IACP,KAAK;AAAA,IACL,SAAS,eAAe;AAAA,EAC1B;AACF,CAAC;;;;;ACiBsB,yBAAqB;AACpB,0BAAsB;AACxC,UAAA,oBAAoB,YAAY,qBAAA,CAAsB;AACjC,gBAAY,sBAAA,CAAuB;AACxC,gBAAY,eAAe;;;;;;;;;;;;;;;;;;;AC2H1B,yBAAqB;AACpB,0BAAsB;AACpB,gBAAY,qBAAA,CAAsB;AACtD,UAAA,qBAAqB,YAAY,sBAAA,CAAuB;;;;;;;;;;;;;;;;ACvM9D,UAAM,EAAE,OAAW,IAAA,YAAY,gBAAiB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}